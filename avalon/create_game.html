<!DOCTYPE html>

{% autoescape true %}
<html>
	<head>
		<meta charset="UTF-8">
	  	<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.css">
		<script src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
		<script src="http://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.js"></script>
	    <script type="text/javascript" src="/_ah/channel/jsapi"></script>
		<!-- TODO: Include a script to validate the form, suggest number of minions. -->
		<title>Avalon: Create game in room {{ room_name }}</title>
	</head>
	
	<body>
		<div data-role="page">
			<div data-role="header">
				<h1>Create: {{ room_name }}</h1>
			</div>
	
			<div data-role="main" class="ui-content">
				<form method="post" action="/{{ room_name }}/create_game" id="create_game_form" data-ajax="false">
					<div class="ui-field-contain">
					<fieldset data-role="controlgroup">
						<legend>Select special roles:</legend>
						<input type="checkbox" name="merlin_role" id="merlin"><label for="merlin">Merlin</label>
						<input type="checkbox" name="mordred_role" id="mordred"><label for="mordred">Mordred</label>
						<input type="checkbox" name="morgana_role" id="morgana"><label for="morgana">Morgana</label>
						<input type="checkbox" name="oberon_role" id="oberon"><label for="oberon">Oberon</label>
						<input type="checkbox" name="percival_role" id="percival"><label for="percival">Percival</label>
						<input type="checkbox" name="assassin_role" id="assassin"><label for="assassin">Assassin</label>
					</fieldset>
					</div>
					
					<div class="ui-field-contain">
					<fieldset data-role="controlgroup">
						<legend>Select players:</legend>
						{% for nickname in nicknames %}
		  					<input type="checkbox" name="{{ nickname }}_name" id="{{ nickname }}_id">
		  					<label for="{{ nickname }}_id">{{ nickname }}</label>
						{% endfor %}
					</fieldset>
					</div>
					
					<div class="ui-field-contain">
						<label for="evil_role_count">Number of evil players:</label>
						<input type="number" name="evil_role_count" id="evil_role_count" placeholder="number of evil players">
					</div>

					<input type="submit" data-icon="check" data-inline="true" value="Create">
				</form>
				<form method="post" action="/{{ room_name }}/cancel_create_game" data-ajax="false">
					<input type="submit" data-icon="delete" data-inline="true" value="Cancel">
				</form>
			</div>
		</div>
	</body>
</html>
{% endautoescape %}